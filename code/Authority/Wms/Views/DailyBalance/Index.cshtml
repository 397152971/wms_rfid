<script type="text/javascript">
    var url;
    function formatAction(value, row, index) {
        var e = '<a href="#" onclick="detail()">日结明细</a>   <a href="#"  onclick="detail()">重新日结</a>';
        return e
    }
    function detail() {
        var row = $('#details').datagrid('getSelected');
       
        $('#mx').dialog('open').dialog('setTitle', '日结明细');
        $('#mxdetails').datagrid({ url: '/DailyBalance/MXDetails/?date=' + row.ToSettleDate });
        $("#mxdetails").datagrid('reload');
         
    }
</script>

    <div region="center" split="true" border="false">    
    <table id="details" class="easyui-datagrid"
        url="/DailyBalance/Details/" border="false" singleSelect="true"
        fit="true" fitColumns="true" toolbar="#tool"  pagination="true" rownumbers="true">
        <thead>
            <tr>
                 <th field="ToSettleDate" width="80">日结日期</th>
                <th field="ToBeginning" width="80">期初量</th>
                <th field="ToEntryAmount" width="80">入库总量</th>
                <th field="ToDeliveryAmount" width="80">出库总量</th>
                <th field="ToLossAmount" width="80">报损总量</th>
                <th field="ToProfitAmount" width="80">报益总量</th>
                <th field="ToEnding" width="80">日结量</th>

                <th field="detail" width="80"  align="center" formatter="formatAction">操作</th>

        </thead>
    </table>
  </div>
    @Html.Partial("_Detail")