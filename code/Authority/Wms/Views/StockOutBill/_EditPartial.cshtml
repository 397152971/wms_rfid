<script type="text/javascript">
    function editClick() {
        var row = $('#details').datagrid('getSelected');
        if (row) {
            DataLoad();
            billno = row.BillNo;
            isInBillMasterSaved = false;
            isInBillMasterCanEdit = true;
            if (row.Status != "已录入") {
                $.messager.confirm('错误', '该记录状态不是已录入状态无法编辑！');
            } else {
                isOutBillMasterAdd = false;
                isShowOutBillDetail = true;
                $('#deleteBillDetail').removeAttr("disabled");
                $('#editBillDetail').removeAttr("disabled");
                $('#addBillDetail').removeAttr("disabled");
                $('#dlg').dialog('open').dialog('setTitle', '编辑出库主单信息');
                $('#outBillDeatil').datagrid({ url: '/StockOutBill/OutBillDetails/?BillNo=' + row.BillNo }); //加载明细
                $('#fm').form('load', row);
                $('#fm .easyui-validatebox').validatebox({
                    required: true
                });
                if (row.IsActive == '可用') {
                    $('#cc').combo('setValue', 1).combo('setText', row.IsActive);
                } else {
                    $('#cc').combo('setValue', 0).combo('setText', row.IsActive);
                }
                $('form input').removeAttr("disabled");
                $('form textarea').removeAttr("disabled");
                $('#cc').combo({
                    hasDownArrow: true
                });
                url = '/StockOutBill/Edit/';
            }
        } else {
            $.messager.confirm('错误', '没有选择行！');
        }
    };
</script>
   


