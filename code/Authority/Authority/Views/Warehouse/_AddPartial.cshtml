<script type="text/javascript">
    var url;
    $(function () {
        $('#wareIsActive').combo({
            required: true,
            editable: false,
            panelHeight: 65,
            panelWidth: 140
        });
        $('#areaIsActive').combo({
            required: true,
            editable: false,
            panelHeight: 65,
            panelWidth: 140
        });
        $('#shelfIsActive').combo({
            required: true,
            editable: false,
            panelHeight: 65,
            panelWidth: 140
        });
        $('#cellIsActive').combo({
            required: true,
            editable: false,
            panelHeight: 65,
            panelWidth: 140
        });

        $('#isLayer').combo({
            required: true,
            editable: false,
            panelHeight: 65,
            panelWidth: 140
        });
        $('#isVirtual').combo({
            required: true,
            editable: false,
            panelHeight: 65,
            panelWidth: 140
        });
    });

    function addClick() {
        $('#dlg').dialog('open').dialog('setTitle', '新增');
        $('form input').removeAttr("disabled");
        var divid;
        var row = $('#details').treegrid('getSelected');
        if (row.ShowOrder == "0") {
            divid = "ware";
        } else if (row.ShowOrder == "1") {
            divid = "area";
        } else if (row.ShowOrder == "2") {
            divid = "shelf";
        } else if (row.ShowOrder == "3") {
            divid = "cell";
        }
        AddShowDiv(divid);
        url = '/Module/Create/';
    };

    function save() {
        alert('保存成功！');
    }

    function AddShowDiv(divId) {
        $('#' + divId + ' .easyui-validatebox').validatebox({
            required: true
        });
        $('#' + divId).form('clear');
        $('#ware').css({ display: "none" });
        $('#area').css({ display: "none" });
        $('#shelf').css({ display: "none" });
        $('#cell').css({ display: "none" });
        $('#' + divId).css({ display: "block" });
    }
</script>
<div id="dlg" class="easyui-dialog" modal="true" style="width: 500px; height: 300px;
    padding: 1px 1px" closed="true" buttons="#dlg-buttons">
    <div id="ware" class="easyui-layout" fit="true" style="display: none">
        <div region="center" border="false" style="padding: 10px 10px; background: #fff;
            border: 1px solid #ccc;">
            <form id="warefm" action="/Module/Create/" method="post">
            <label>
                当前新增页面：仓库</label>
            <table>
                <tr>
                    <td>
                        仓库编码:
                    </td>
                    <td>
                        <input name="ModuleID" type="text" id="txtWhCode" class="easyui-validatebox" style="width: 140px;" />
                    </td>
                    <td>
                        仓库名称:
                    </td>
                    <td>
                        <input name="ModuleName" type="text" id="txtWhName" class="easyui-validatebox" style="width: 140px;" />
                    </td>
                </tr>
                <tr>
                    <td>
                        仓库简称:
                    </td>
                    <td>
                        <input name="txtShortName" type="text" id="txtShortName" style="width: 140px;" />
                    </td>
                    <td class="tdTitle">
                        仓库类型:
                    </td>
                    <td>
                        <select name="ddlType" id="ddlType" disabled="disabled">
                            <option selected="selected" value="0">主库区</option>
                            <option value="1">暂存区</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>
                        公司编码:
                    </td>
                    <td>
                        <input name="txtArea" type="text" value="0.00" id="txtArea" class="TextBoxRight"
                            style="width: 140px;" /><span style="font-size: 13pt; font-family: 宋体">㎡</span>
                    </td>
                    <td class="tdTitle">
                        描述:
                    </td>
                    <td>
                        <input name="txtCapacity" type="text" value="0" id="txtCapacity" class="TextBoxRight"
                            style="width: 140px;" /><span style="font-size: 9pt">件</span>
                    </td>
                </tr>
                <tr>
                    <td class="tdTitle">
                        更新时间:
                    </td>
                    <td>
                        <input name="txtDEFAULTUNIT" type="text" value="002" id="txtDEFAULTUNIT" class="myinput"
                            style="width: 140px;" />
                    </td>
                    <td class="tdTitle">
                        是否启用:
                    </td>
                    <td>
                        <select name="ddlActive" id="wareIsActive" class="easyui-combobox" style="width: 141px">
                            <option selected="selected" value="1">启用</option>
                            <option value="0">未启用</option>
                        </select>
                    </td>
                </tr>               
            </table>
            </form>
        </div>
    </div>
    <div id="area" class="easyui-layout" fit="true" style="display: none">
        <div region="center" border="false" style="padding: 10px 10px; background: #fff;
            border: 1px solid #ccc;">
            <form id="areafm" action="/Module/Create/" method="post">
            <label>
                当前新增页面：库区</label>
            <table>
                <tr style="height: 30px;">
                    <td class="tdTitle" style="height: 26px">
                        仓库编码:
                    </td>
                    <td style="height: 26px">
                        <input name="ModuleID" type="text" id="txtWhCode_area" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                    <td class="tdTitle" style="height: 26px">
                        库区类别:
                    </td>
                    <td style="height: 26px" colspan="3">
                        <input name="ModuleName" type="text" id="txtAreaType_area" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                </tr>
                <tr style="height: 30px;">
                    <td class="tdTitle">
                        库区编码:
                    </td>
                    <td>
                        <input name="ModuleName" type="text" id="txtAreaCode_area" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                    <td class="tdTitle">
                        库区名称:
                    </td>
                    <td>
                        <input name="ModuleName" type="text" id="txtAreaName" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                </tr>
                <tr style="height: 30px;">
                    <td class="tdTitle">
                        库区简称:
                    </td>
                    <td>
                        <input name="txtShortName_area" type="text" id="txtShortName_area" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                    <td class="tdTitle">
                        是否启用:
                    </td>
                    <td>
                        <select name="areaIsActive" id="areaIsActive" class="easyui-combobox" style="width: 140px">
                            <option selected="selected" value="1">启用</option>
                            <option value="0">未启用</option>
                        </select>
                    </td>
                </tr>
                <tr style="height: 30px;">
                    <td class="tdTitle">
                        备注:
                    </td>
                    <td colspan="3">
                        <textarea name="txtMemo_area" rows="1" id="txtMemo_area" style="width: 360px; height: 80px"></textarea>
                    </td>
                </tr>
            </table>
            </form>
        </div>
    </div>
    <div id="shelf" class="easyui-layout" fit="true" style="display: none">
        <div region="center" border="false" style="padding: 10px 10px; background: #fff;
            border: 1px solid #ccc;">
            <form id="shelffm" action="/Module/Create/" method="post">
            <label>
                当前新增页面：货架</label>
            <table>
                <tr>
                    <td align="right" class="tdTitle">
                        仓库编码:
                    </td>
                    <td align="left">
                        <input name="ModuleID" type="text" id="txtWhCode_shelf" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                    <td align="right" class="tdTitle">
                        库区编码:
                    </td>
                    <td align="left">
                        <input name="ModuleName" type="text" id="txtAreaCode" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                </tr>
                <tr>
                    <td align="right" class="tdTitle">
                        货架编码:
                    </td>
                    <td align="left">
                        <input name="ModuleName" type="text" readonly="readonly" id="txtShelfCode" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                    <td align="right" class="tdTitle">
                        货架名称:
                    </td>
                    <td align="left">
                        <input name="ModuleName" type="text" value="A" id="txtShelfName" class="easyui-validatebox"
                            style="width: 140px;" />
                    </td>
                </tr>
                <tr>
                    <td align="right" class="tdTitle">
                        图形化X轴:
                    </td>
                    <td align="left">
                        <input name="txtImgX" type="text" value="0" id="txtImgX" class="TextBoxRight" onblur="IsNumber(this,'图形化X轴')"
                            style="width: 140px;" />
                    </td>
                    <td align="right" class="tdTitle">
                        图形化Y轴:
                    </td>
                    <td align="left">
                        <input name="txtImgY" type="text" value="0" id="txtImgY" class="TextBoxRight" onblur="IsNumber(this,'图形化Y轴')"
                            style="width: 140px;" />
                    </td>
                </tr>
                <tr>
                    <td align="right" class="tdTitle">
                        货架行数:
                    </td>
                    <td align="left">
                        <input name="txtCellRows" type="text" value="1" id="txtCellRows" style="width: 140px;" />
                    </td>
                    <td align="right" class="tdTitle">
                        货架列数:
                    </td>
                    <td align="left">
                        <input name="txtCellCols" type="text" value="18" id="txtCellCols" style="width: 140px;" />
                    </td>
                </tr>
                <tr>
                    <td align="right" class="tdTitle">
                        是否启用:
                    </td>
                    <td align="left" style="text-align: left">
                        <select name="ddlActive" id="shelfIsActive" class="easyui-combobox" style="width: 140px">
                            <option selected="selected" value="1">启用</option>
                            <option value="0">未启用</option>
                        </select>
                    </td>
                    <td align="right" class="tdTitle">
                        库区类别:
                    </td>
                    <td align="left">
                        <input name="txtAreaType" type="text" value="0" id="txtAreaType" style="width: 140px;" />
                    </td>
                </tr>
                <tr>
                    <td align="right" class="tdTitle">
                        备注:
                    </td>
                    <td colspan="3" style="text-align: left">
                        <textarea name="txtMemo_shelf" rows="10" cols="20" id="txtMemo_shelf" style="width: 360px;
                            height: 65px">主库区A区</textarea>
                    </td>
                </tr>
            </table>
            </form>
        </div>
    </div>
    <div id="cell" class="easyui-layout" fit="true" style="display: none">
        <div region="center" border="false" style="padding: 10px 10px; background: #fff;
            border: 1px solid #ccc;">
            <form id="cellfm" action="/Module/Create/" method="post">
            <label>
                当前新增页面：货位</label>
            <table>
                <tr style="height: 25px">
                    <td align="right">
                        货位编码:
                    </td>
                    <td align="left">
                        <input name="ModuleID" type="text" class="easyui-validatebox" id="txtCellCode" />
                    </td>
                    <td align="right">
                        货位名称:
                    </td>
                    <td align="left">
                        <input name="ModuleName" type="text" class="easyui-validatebox" />
                    </td>
                </tr>
                <tr style="height: 25px">
                    <td align="right">
                        货位限量:
                    </td>
                    <td align="left">
                        <input name="txtMaxQty" type="text" />
                    </td>
                    <td align="right">
                        货层位置:
                    </td>
                    <td align="left">
                        <select name="ddlLayer" id="isLayer" class="easyui-combobox" style="width: 130px">
                            <option value="1">一层</option>
                            <option value="2">二层</option>
                            <option value="3">三层</option>
                        </select>
                    </td>
                </tr>
                <tr style="height: 25px">
                    <td align="right">
                        指定卷烟:
                    </td>
                    <td align="left">
                        <input name="txtAssignedProductName" type="text" id="txtAssignedProductName" />
                    </td>
                    <td align="right" class="tdTitle">
                        是否启用:
                    </td>
                    <td align="left">
                        <select name="ddlActive" id="cellIsActive" class="easyui-combobox" style="width: 130px">
                            <option selected="selected" value="1">启用</option>
                            <option value="0">未启用</option>
                        </select>
                    </td>
                </tr>
                <tr style="height: 25px">
                    <td align="right" class="tdTitle">
                        货位单位:
                    </td>
                    <td align="left">
                        <input name="txtUnitCode" type="text" id="txtUnitCode" />
                    </td>
                    <td align="right" class="tdTitle">
                        虚拟货位:
                    </td>
                    <td align="left">
                        <select name="ddlVirtual" id="isVirtual" class="easyui-combobox" style="width: 130px">
                            <option selected="selected" value="0">不是</option>
                            <option value="1">是</option>
                        </select>
                    </td>
                </tr>
                <tr style="height: 25px">
                    <td align="right" class="tdTitle">
                        设备标识:
                    </td>
                    <td align="left">
                        <input name="txtPalletID" type="text" id="txtPalletID" />
                    </td>
                    <td align="right" class="tdTitle">
                        电子标签组:
                    </td>
                    <td align="left">
                        <input name="txtEGroup" type="text" id="txtEGroup" />
                    </td>
                </tr>
                <tr style="height: 25px">
                    <td align="right">
                        电子标签端口:
                    </td>
                    <td align="left">
                        <input name="txtECom" type="text" id="txtECom" />
                    </td>
                    <td align="right" class="tdTitle">
                        电子标签地址:
                    </td>
                    <td align="left">
                        <input name="txtEAddress" type="text" id="txtEAddress" />
                    </td>
                </tr>
            </table>
            </form>
        </div>
    </div>
</div>
<div id="dlg-buttons">
    <a href="#" class="easyui-linkbutton" iconcls="icon-ok" onclick="save()">确定</a>
    <a href="#" class="easyui-linkbutton" iconcls="icon-cancel" onclick="javascript:$('#dlg').dialog('close')">
        取消</a>
</div>
